function ie_img_overlay_ad_code(){var e,t,i="";767>=jQuery(window).width()?(jQuery(".ie-post-image").css("position","relative"),e="position: absolute; left:0; right:0; max-height: 50px; overflow: hidden;",void 0!==overlay_ad&&overlay_ad.enable_close_button&&(e+=" background: rgba(000,000,000,0.2);")):(e="position: absolute; left:0; right:0; top: 304px; max-height: 50px; overflow: hidden;",void 0!==overlay_ad&&overlay_ad.enable_close_button&&(e+=" background: rgba(000,000,000,0.2);"));var o=document.createElement("div"),n=document.createElement("div");return o.setAttribute("id","inhouseimg"),o.setAttribute("class","imghalder"),o.setAttribute("style",e),330>=jQuery(document).width()&&(i="margin:0 -20px"),n.setAttribute("id","gpt_ad_IE_IMAGE_OVERLAY"),n.setAttribute("class","aside visible-md visible-lg io-code-box"),n.setAttribute("style",i),null!=o&&(o.replaceChildren(),o.appendChild(n)),t=o}function refresh_image_overlay_ad(){window.googletag=window.googletag||{cmd:[]},googletag.cmd.push(function(){var e;e=767>=jQuery(window).width()?googletag.defineSlot("/1050432/www.indianexpress.com/IE_Mobile_IMAGE_OVERLAY",[[320,50],[300,50]],"gpt_ad_IE_IMAGE_OVERLAY").addService(googletag.pubads()):googletag.defineSlot("/1050432/www.indianexpress.com/IE_Desktop_IMAGE_OVERLAY",[[320,50],[300,50]],"gpt_ad_IE_IMAGE_OVERLAY").addService(googletag.pubads()),googletag.pubads().enableSingleRequest(),googletag.pubads().collapseEmptyDivs(),googletag.enableServices(),googletag.display("gpt_ad_IE_IMAGE_OVERLAY"),googletag.pubads().refresh([e])})}function ie_img_overlay_generate_ad(){try{var e=1;jQuery("span").each(function(){("articleBody"===jQuery(this).attr("itemprop")||jQuery(this).hasClass("custom-caption")||jQuery(this).hasClass("ie-post-image"))&&jQuery(this).find("img").each(function(){if(1===e){var t=jQuery(this).height(),i=ie_img_overlay_ad_code();jQuery(i).insertAfter(this),refresh_image_overlay_ad(),jQuery("#inhouseimg").css("width",jQuery(this).width()),jQuery("#inhouseimg").css("top",t-50);var o=jQuery(".io-code-box");void 0!==overlay_ad&&overlay_ad.enable_close_button&&void 0!==o.html()&&!o.attr("style").match("none")&&setTimeout(function(){var e="2px";330>=jQuery(document).width()&&(e="0");var t=document.createElement("span");t.setAttribute("class","imgclose"),t.setAttribute("style","left: 10px; position:absolute; top: 0px;background: #fff;color:#000;width: 22px;height: 22px;cursor: pointer;border-radius: 25px;display:block;padding: 5px; font-size: 12px;text-align: center;line-height: 12px;"),t.textContent="X",jQuery("#inhouseimg").prepend(t),setTimeout(function(){jQuery(".imgclose").on("click",function(){jQuery("#inhouseimg").remove()})},1e3)},1e3),e++}})}),jQuery(window).on("orientationchange",function(){setTimeout(function(){jQuery("figure > img").each(function(){jQuery("#inhouseimg").css("width",jQuery(this).width())})},1e3)}),jQuery("figure").each(function(){("articleBody"===jQuery(this).attr("itemprop")||jQuery(this).hasClass("wp-caption-text"))&&jQuery(this).find("img").each(function(){if(1===e&&void 0===jQuery(this).next(".custom-caption").html()){var t=ie_img_overlay_ad_code();jQuery(t).insertAfter(this),refresh_image_overlay_ad(),jQuery("#inhouseimg").css("width",jQuery(this).width()),e++}})})}catch(t){}}function getUserSubscriptionCookie(e){var t,i=e+"=",o=document.cookie.split(";"),n=o.length,s=0;for(s=0;s<n;s++){for(t=o[s];" "===t.charAt(0);)t=t.substring(1,t.length);if(0===t.indexOf(i))return t.substring(i.length,t.length)}return null}let anonymusuer=getUserSubscriptionCookie("oauth_user");if(void 0!==overlay_ad&&overlay_ad.enable_sop){if(!anonymusuer){var e=!1;jQuery(window).scroll(function(){!1===e&&(e=!0,ie_img_overlay_generate_ad(),jQuery("#inhouseimg .io-code-box").css({margin:"0 auto","text-align":"center"}))})}}else jQuery(window).load(function(){var e=!1;jQuery(window).scroll(function(){!1===e&&(e=!0,ie_img_overlay_generate_ad(),jQuery("#inhouseimg .io-code-box").css({margin:"0 auto","text-align":"center"}))})});