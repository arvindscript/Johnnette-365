!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=20)}([function(e,t,n){"use strict";n.d(t,"o",(function(){return c})),n.d(t,"j",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"n",(function(){return d})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return g})),n.d(t,"h",(function(){return f})),n.d(t,"k",(function(){return b})),n.d(t,"p",(function(){return y})),n.d(t,"m",(function(){return h})),n.d(t,"l",(function(){return x})),n.d(t,"i",(function(){return _})),n.d(t,"a",(function(){return w}));var r=n(6),o=n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e,t){t?window.sessionStorage.setItem(e,JSON.stringify(t)):window.sessionStorage.setItem(e,void 0)},s=function(e){return window.sessionStorage.getItem(e)},l=function(e){return window.sessionStorage.removeItem(e)},u=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}},d=function(e,t,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var o="expires="+r.toUTCString();document.cookie=e+"="+t+";"+o+";path=/"},m=function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})},p=function(e,t){var n=document.head,r=document.body.getElementsByTagName("footer")[0],o=document.createElement("link");o.rel="stylesheet",o.href=e,"footer"===t?r.appendChild(o):n.appendChild(o)};function f(e){var t,n=window.getComputedStyle(e),r=n.display,o=n.position,i=n.visibility,a=n.maxHeight.replace("px","").replace("%","");return"none"!==r&&"0"!==a?e.offsetHeight:(e.style.position="absolute",e.style.visibility="hidden",e.style.display="block",t=e.offsetHeight,e.style.display=r,e.style.position=o,e.style.visibility=i,t)}function v(e,t){e&&t&&!e.classList.contains(t)&&e.classList.add(t)}function h(e,t){e&&t&&e.classList.contains(t)&&e.classList.remove(t)}function y(e,t){e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)}function b(e){e||(e=window.location.href);var t={},n=e.split("?");if(!(n.length>1))return{};var r=n[1].split("&");return r.length?(r.map((function(e){var n=e.split("="),r=n[0],i=n[1],c=o()({},r,i);t=a(a({},t),c)})),t):void 0}function g(e,t,n){t=t||"d-M-Y",n=n||"-";var r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if(null!=e){var o=new Date(e);switch(t){case"d-M-Y":case"d M Y":o=o.getDate()+n+r[o.getMonth()]+n+o.getFullYear();break;case"d M":o=o.getDate()+n+r[o.getMonth()];break;case"M Y":o=r[o.getMonth()]+n+o.getFullYear();break;case"d":o=o.getDate();break;case"M":o=r[o.getMonth()];break;case"M d Y":o=r[o.getMonth()]+n+o.getDate()+n+o.getFullYear();break;case"Y-m-d":o=o.getFullYear()+n+o.getMonth()+n+o.getDate();break;default:o=o.getDate()+n+r[o.getMonth()]+n+o.getFullYear()}return o.toString()}return null}function x(e){try{return JSON.parse(e)}catch(e){return}}function _(e,t,n,r){if(void 0===e)return"";var o=r?r.split(":"):[0,0,0,0],i=new Date,a=new Date(e),c=o[2];c.indexOf("+")?"0000"==(c=o[2].split("+"))[1]&&(o[0]=Number(o[0])+5,o[1]=Number(o[1])+30):"0530"==(c=o[2].split("-"))[1]&&(o[0]=Number(o[0])+11,o[1]=Number(o[1])),a=new Date(a.setHours(Number(o[0]),Number(o[1]),Number(c[0]),0));var s=Math.abs(a.getTime()-i.getTime()),l=Math.ceil(s/36e5),u="";if(isNaN(l))return a;if(!(l>24)){var d=(new Date).getHours()+":"+(new Date).getMinutes();return function(e,t){e=e.split(":"),t=t.split(":");var n=new Date(0,0,0,e[0],e[1],0),r=new Date(0,0,0,t[0],t[1],0).getTime()-n.getTime(),o=Math.floor(r/1e3/60/60);r-=1e3*o*60*60;var i=Math.floor(r/1e3/60);o<0&&(o+=24);return o<=0?0===i?"a few seconds ago":1===i?i+" minute ago":i+" minutes ago":1===o?o+" hour ago":o+" hours ago"}(o[0]+":"+o[1],d)}switch(l=Math.floor(l/24)){case 0:u="Today";break;case 1:u="Yesterday";break;default:u=(u=l<30?l+" days ago":""+g(a,void 0," ")).replace("Posted on","")}return u}function w(e){return e.split(" ").length}},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(0);function o(e,t){var n=Object(r.g)("ieCommentingServicesToken"),o=n&&"undefined"!==n?{Authorization:"".concat(n?"Bearer "+n:""),"Content-Type":"application/json",Accept:"application/json"}:{"Content-Type":"application/json",Accept:"application/json"};return t=t||{},fetch(e,{headers:o,method:"POST",body:JSON.stringify(t)}).then((function(e){return 401===e.status&&Object(r.n)("ieCommentingServicesToken","",1),e.json()})).catch((function(e){return console.log(e)}))}function i(e,t){var n=Object(r.g)("ieCommentingServicesToken"),o=n&&"undefined"!==n?{Authorization:"".concat(n?"Bearer "+n:""),"Content-Type":"application/json",Accept:"application/json"}:{"Content-Type":"application/json",Accept:"application/json"};return t=t||{},fetch(e,{headers:o,method:"PATCH",body:JSON.stringify(t)}).then((function(e){return 401===e.status&&Object(r.n)("ieCommentingServicesToken","",1),e.json()})).catch((function(e){return console.log(e)}))}function a(e){var t=Object(r.g)("ieCommentingServicesToken"),n=t&&"undefined"!==t?{Authorization:"".concat(t?"Bearer "+t:""),"Content-Type":"application/json",Accept:"application/json"}:{"Content-Type":"application/json",Accept:"application/json"};return fetch(e,{headers:n}).then((function(e){return 401===e.status&&Object(r.n)("ieCommentingServicesToken","",1),e.json()})).catch((function(e){return console.log(e)}))}},function(e,t,n){var r=n(15)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r={comment:"https://comment-engine.indianexpress.com/",auth:"https://authentication.indianexpress.com/",links:"https://media-central.indianexpress.com/static/comment-engine/",images:"https://media-central.indianexpress.com/static/comment-engine/assets/",js:"https://media-central.indianexpress.com/static/comment-engine/",profanity:"https://profanity-filter.indianexpress.com/",blockedurl:"https://ecoprod.xpresstechie.com/article/"},o={editor:"https://comment-engine.indianexpress.com/",auth:"https://authentication.indianexpress.com/",links:"https://media-central.indianexpress.com/static/comment-engine/",images:"https://media-central.indianexpress.com/static/comment-engine/assets/",js:"https://media-central.indianexpress.com/static/comment-engine/"}},function(e,t){function n(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function c(e){n(a,o,i,c,s,"next",e)}function s(e){n(a,o,i,c,s,"throw",e)}c(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(10);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(12),o=n(13),i=n(9),a=n(14);e.exports=function(e){return r(e)||o(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(7);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(5).default,o=n(11);e.exports=function(e){var t=o(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(5).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(7);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(5).default;function o(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=o=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},i=Object.prototype,a=i.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function m(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{m({},"")}catch(t){m=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),a=new N(r||[]);return c(i,"_invoke",{value:k(e,n,a)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=p;var v="suspendedStart",h="executing",y="completed",b={};function g(){}function x(){}function _(){}var w={};m(w,l,(function(){return this}));var S=Object.getPrototypeOf,j=S&&S(S(M([])));j&&j!==i&&a.call(j,l)&&(w=j);var O=_.prototype=g.prototype=Object.create(w);function T(e){["next","throw","return"].forEach((function(t){m(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,i,c,s){var l=f(e[o],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==r(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(d).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,s)}))}s(l.arg)}var o;c(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}})}function k(e,n,r){var o=v;return function(i,a){if(o===h)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var s=L(c,r);if(s){if(s===b)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===v)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:"suspendedYield",l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function L(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,b;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function q(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[l];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(a.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(r(e)+" is not iterable")}return x.prototype=_,c(O,"constructor",{value:_,configurable:!0}),c(_,"constructor",{value:x,configurable:!0}),x.displayName=m(_,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,m(e,d,"GeneratorFunction")),e.prototype=Object.create(O),e},n.awrap=function(e){return{__await:e}},T(E.prototype),m(E.prototype,u,(function(){return this})),n.AsyncIterator=E,n.async=function(e,t,r,o,i){void 0===i&&(i=Promise);var a=new E(p(e,t,r,o),i);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},T(O),m(O,d,"Generator"),m(O,l,(function(){return this})),m(O,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=M,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(q),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),l=a.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),q(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;q(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},n}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(17),o=n(18),i=n(9),a=n(19);e.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){n(21),e.exports=n(22)},function(e,t,n){"use strict";n.r(t);n(5),n(16);var r=n(8),o=n.n(r),i=n(4),a=n.n(i),c=n(2),s=n.n(c),l=n(3),u=n(1),d=n(0);!function(){var e,t=l.a.comment,n=l.a.auth,r=l.a.links,i=l.a.images,c=(l.b.links,l.a.js,l.a.profanity),m=(l.a.blockedurl,window.location.href),p=m.split("?"),f=btoa(p[0]),v=document.querySelector("#id_story_show_comments"),h=document.querySelector("#id_story_write_comments"),y=[],b=document.querySelector(".comments-widget .total-count"),g=0,x=0,_="#fe0000";try{e=ceVid}catch(e){console.log("vendor id not found",e)}var w=5248337,S="";function j(e,t,n,r){if(void 0===e)return"";var o=r?r.split(":"):[0,0,0,0],i=new Date,a=new Date(e),c=o[2];c.indexOf("+")?"0000"==(c=o[2].split("+"))[1]&&(o[0]=Number(o[0])+5,o[1]=Number(o[1])+30):"0530"==(c=o[2].split("-"))[1]&&(o[0]=Number(o[0])+11,o[1]=Number(o[1])),a=new Date(a.setHours(Number(o[0]),Number(o[1]),Number(c[0]),0));var s=Math.abs(a.getTime()-i.getTime()),l=Math.ceil(s/36e5),u="";if(isNaN(l))return a;if(!(l>24)){var m=(new Date).getHours()+":"+(new Date).getMinutes();return function(e,t){e=e.split(":"),t=t.split(":");var n=new Date(0,0,0,e[0],e[1],0),r=new Date(0,0,0,t[0],t[1],0).getTime()-n.getTime(),o=Math.floor(r/1e3/60/60);r-=1e3*o*60*60;var i=Math.floor(r/1e3/60);o<0&&(o+=24);return o<=0?0===i?"a few seconds ago":1===i?i+" minute ago":i+" minutes ago":1===o?o+" hour ago":o+" hours ago"}(o[0]+":"+o[1],m)}switch(l=Math.floor(l/24)){case 0:u="Today";break;case 1:u="Yesterday";break;default:u=(u=l<30?l+" days ago":""+Object(d.e)(a,void 0," ")).replace("Posted on","")}return u}function O(e){try{return JSON.parse(e)}catch(e){return}}function T(e){le('<a href="javascript:void(0)" id="login-btn">Click <span>here </span> to login.</a>'),document.getElementById("login-btn").addEventListener("click",se),e&&("cookie"===e.type?Object(d.n)(e.key,e.value,e.time):Object(d.o)(e.key,e.value))}function E(e){var t=document.createElement("header");return t.className="c-header clearFix",t.innerHTML='   \n                <div class="comment-count" data-count="'.concat(e,'">').concat(he(e),'</div>\n                <h2 class="c-header_title">COMMENT(S)</h2>\n                <div class="c-header_close-icon"><img src="').concat(i,'images/close-button.svg" alt="close"/></div>\n                <div id="snackbar">Share your thoughts and debate the big</div>\n                <div id="snackbar2">Post Comment</div>\n                <div id="alert-toast" class="hide"> </div>\n            '),t.querySelector("#snackbar").addEventListener("click",k),t.querySelector(".c-header_close-icon").addEventListener("click",pe),t}function k(){var e=this,t=e.classList.contains("editor_active"),n=document.querySelector("#header_add_Comment"),r=document.querySelector("#id_commenting");if(t)Object(d.m)(e,"editor_active"),n.innerHTML="";else{$(),Object(d.b)(e,"editor_active"),X(n);var o=n.querySelector(".btn-box .edit-comment");if(o.innerText="Comment",!ue()){var i=n.querySelector(".ins-img");i&&(i.style.display="none")}o.addEventListener("click",M),n.querySelector(".cancel-btn").addEventListener("click",(function(){e.click()}))}if(Object(d.b)(r,"editor_active_parent"),function(){"subscriber"==Object(d.g)("ev_user_state")&&(document.querySelector("#subscribe-comment-btn")&&document.querySelector("#subscribe-comment-btn").classList.add("hide-btn"),document.querySelector("#header-comment-btn")&&document.querySelector("#header-comment-btn").classList.add("show-btn"));if(!Object(d.g)("access_token")){var e=document.createElement("div");e.className="subscribe-user",e.innerHTML='Already a subscriber? <a href="/login/">Sign In</a>',document.getElementById("header_add_Comment").appendChild(e)}}(),document.querySelector("#header_add_Comment .c-editsummary")){var a=document.querySelector("#header_add_Comment .c-editsummary");a.innerHTML="<span style='color: #999;'>Share your thoughts...</span>",a.addEventListener("click",(function(){"Share your thoughts..."==this.innerText&&(this.innerHTML="")})),a.addEventListener("blur",(function(){""==this.innerText&&(this.innerHTML="<span style='color: #999;'>Share your thoughts...</span>")}))}}function L(e){return C.apply(this,arguments)}function C(){return(C=a()(s.a.mark((function e(t){var n,r,o,i,a,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object(d.j)("commentEngineUserData"))&&n.fullName&&(t+=n.fullName),r="".concat(c,"profanity/check/"),o={query:t},i=["stylesheets","profane_words","sql_queries","mobile_numbers","emails","scripts"],a={isBlocked:!1,parsedContent:t},e.next=8,Object(u.c)(r,o);case 8:if(!(l=e.sent)){e.next=13;break}return i.forEach((function(e){(l[e]&&l[e].length>0||l.perspective_block)&&(a.isBlocked=!0)})),a.parsedContent=l.stripped_query,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t){t=t||5;var n=e.replace(/(<([^>]+)>)/gi,"");return!(n.replace(/\s/g,"").length<t||n.replace(/\s/g,"").length>2e3)}function N(){1===x?le("You have been suspended by admin for 24 hours."):2===x&&le("You have been blocked by admin.")}"undefined"!=typeof custom_ev_data&&(w=custom_ev_data.articleId,S=custom_ev_data.title),window.onerror=function(e,t,n,r,o){console.log({message:e,source:t,lineno:n,colno:r,error:o})};function M(){var n=this,r=n.className,o=n.innerHTML,i=n.closest(".editor-box"),a=i.querySelector(".ce_error_msg");a.innerText="";var c=i.querySelector("#id_anonymous").checked,s=document.querySelector("#id_commenting"),l={},p=i.querySelector(".text-content .c-editsummary");p.childNodes.forEach((function(e){"IMG"===e.tagName&&e.remove()}));var f=p.textContent;if(x)N();else{var v=I(p);if(f){if(!q(f))return void(a.innerText="Content length must be between 5-2000 characters.");l.content=f,l.url=m,l.vendorId=e,l.isAnonymous=c,l.tagged=v,l.articleId=w,l.title=S,l.sessionId="sessionid-".concat(document.querySelectorAll(".c-commenting_inner > .comments-listbox").length+1);var h=Object(d.g)("ev_user_state");l.isSubscribed=void 0!==h&&"subscriber"==h;var y=Object(d.g)("pluuid");if(void 0===y){var b=Object(d.g)("oauth_user");if(void 0!==b){var _=JSON.parse(b);l.pluuid=_.user_per_refsid}else y=-1}else l.pluuid=y;var j=Object(d.g)("oauth_user");if(void 0!==j){l.userInfo={};var O=JSON.parse(j),E="";if(O.user_first_name&&(E+=O.user_first_name),O.user_middle_name&&(E=E+" "+O.user_middle_name),O.user_last_name&&(E=E+" "+O.user_last_name),l.userInfo.username=E,void 0!==Object(d.j)("commentEngineUserData")&&l.userInfo.username.length<1){var k=JSON.parse(Object(d.j)("commentEngineUserData"));l.userInfo.username=k.firstName+" "+k.lastName}}if("Share your thoughts..."==l.content)return le("Please enter some text."),n.className=r,n.innerHTML=o,!1;if(f.match(/\d+/g)){var C=f.match(/\d+/g).join("");if(console.log("matched",C),C.length>=10)return a.innerText="mobile number is not allowed.",!1}var M="".concat(t,"api/comment/");n.innerHTML=P("width:20px;height:20px;border-width:6px;"),n.className="",L(f).then((function(e){return e.isBlocked&&(a.innerText="Your message has been sent for moderation.",n.className=r,n.innerHTML=o,l.isProfane=!0),ue()?void 0===h||"subscriber"!=h?(le("Please Click <a href='/subscribe/'>here</a> to Subscribe"),n.className=r,n.innerHTML=o,!1):(l.content=e.parsedContent,void Object(u.c)(M,l).then((function(e){var t=document.querySelector(".c-commenting_inner"),i=t.querySelector(".comments-listbox");oe(s.querySelector(".c-header .comment-count")),g+=1,document.querySelector(".total-count-num")&&(document.querySelector(".total-count-num").innerHTML="<sup>".concat(he(g),"</sup>")),document.querySelector("#id_story_show_comments")&&(document.querySelector("#id_story_show_comments").innerHTML="Read Comments <sup>".concat(he(g),"</sup>"));var a=B(e);l.isProfane||(i&&a?(t.insertBefore(a,i),console.log("newCommentBody")):a&&(t.appendChild(a),console.log("newCommentBodys")));document.querySelector("#snackbar"),document.querySelector("#header_add_Comment");W(t),n.className=r,n.innerHTML=o,document.querySelector("#header_add_Comment .c-editsummary").innerHTML="<span style='color: #999;'>Share your thoughts...</span>",function(e){var t=document.querySelectorAll(".c-commenting_inner > .comments-listbox").length;e.sessionId=t,xe.push(e),console.log("sss",xe),Object(d.o)("sessionCommentData",xe)}(l)}))):(T({type:"session",key:"ce-postComment",value:f}),void setTimeout((function(){console.log("show toast"),n.className=r,n.innerHTML=o}),1e3))})).catch((function(){le("Something Went Wrong"),n.className=r,n.innerHTML=o}))}else le("Please enter some text.")}}function I(e){var t=[];if(!e)return t;var n=e.querySelectorAll(".tagged_user");return n.length?(n.forEach((function(e){var n=e.dataset.userid;n&&t.push(n)})),o()(new Set(t))):t}function A(){var e=document.createElement("div");e.className="c-commenting_inner";var t=document.querySelector("#fixed-text-editor"),n=document.createElement("div");return n.className="editor-box",n.id="header_add_Comment",t.appendChild(n),e}function D(){var e=document.createElement("div");e.className="c-dropdown",e.innerHTML='\n            <div id="fixed-text-editor"></div>\n            <div class="c-dropdown__menu">\n                <a href="javascript:void(0)" class="active-filter">\n                    <span>Latest</span>\n                    <svg id="icon--dropdown" viewBox="0 0 8 5" width="100%" height="100%">\n                        <path fill="#f93c42" d="M4 4.7L.1.9.9.1 4 3.3 7.1.1l.8.8z"></path>\n                    </svg>\n                </a>\n            </div>\n            \n            <ul class="c-sub-menu">\n                <li class="c-sub-menu__item c-sub-menu__item--current" data-value="latest"><a href="javascript:void(0)">Latest</a></li>\n                <li class="c-sub-menu__item " data-value="mostUpvotes"><a href="javascript:void(0)" >Most Upvotes</a></li>\n                <li class="c-sub-menu__item "  data-value="mostDownvotes"><a href="javascript:void(0)">Most Downvotes</a></li>\n                <li class="c-sub-menu__item " data-value="mostReplies"><a href="javascript:void(0)" >Most Replies</a></li>\n            </ul>\n        ';var t=e.querySelector(".c-dropdown__menu"),n=e.querySelector(".c-sub-menu");return t.addEventListener("click",(function(){Object(d.p)(n,"active")})),n.addEventListener("click",H),e}function P(e){return"<div style=".concat(e,' class="loader"></div>')}function H(n){var r=n.target.closest(".c-sub-menu__item"),o=r.closest(".c-sub-menu"),i=o.closest(".c-dropdown").querySelector(".c-dropdown__menu .active-filter"),a=o.querySelector(".c-sub-menu__item--current");Object(d.m)(a,"c-sub-menu__item--current"),Object(d.b)(r,"c-sub-menu__item--current");var c=r.dataset.value,s=r.querySelector("a");i.querySelector("span").innerText=s.innerText;var l="".concat(t,"api/comment/?url=").concat(f,"&includeUserData=true&isActive=true&sortBy=").concat(c,"&page=0&size=10&vid=").concat(e);document.querySelector(".c-commenting_inner").innerHTML=P("width:50px;height:50px;border-width:4px;"),Object(d.m)(o,"active"),Object(u.a)(l).then((function(e){Object(d.o)("firstComments",e);var t=document.querySelector(".c-sub-menu"),n=document.createElement("div");n.className="editor-box",n.id="header_add_Comment",t.appendChild(n),function(){var e=Object(d.j)("firstComments");if(e&&"undefined"!==e){var t=O(e),n=t.results||[],r=document.querySelector(".c-commenting_inner");r.innerHTML="";var o=t.next;n.map((function(e){var t=B(e);t&&r.appendChild(t),W(r)}));var i=J();i.dataset.nexturl=o,o&&r.appendChild(i)}}()})).catch((function(e){console.log(e),le("Sorry, something went wrong right now.")}))}function B(e){var n=ce(e),r=n.commentId,o=n.fullName,i=n.addedOn,a=n.content,c=n.canEdit,s=(n.userImage,n.images,n.totalEdits),l=n.isReply,m=n.flagsData,p=n.userId,f=n.isCommentActive,v=n.isAnonymous,h=(n.adminApproved,n.sessionId,n.pinned),y=n.createdOn;if(f){var b=document.createElement("div");b.className="comments-listbox",b.id="comment-".concat(r),b.dataset.sessionId=function(e){return e?"comment-".concat(e):l?"sessionid-reply-".concat(document.querySelectorAll(".c-commenting_inner > .comments-listbox").length+1):"sessionid-".concat(document.querySelectorAll(".c-commenting_inner > .comments-listbox").length+1)}(),b.dataset.id=r;var g=document.createElement("div");if(g.className="common_list",r||b.setAttribute("data-name","stopclick"),m)return g.innerText="You have flagged this comment",Object(d.b)(g,"flagged_status"),b.appendChild(g),b;f||(b.innerHTML='<div class="moderation-msg">The comment is under moderation.</div>',b.classList.add("moderation-label")),g.appendChild(function(e,t,n,r,o,i,a,c,s){var l=document.createElement("div"),u=function(e){var t=Object(d.j)("commentEngineUserData");if(t)return t=O(t),e===t.id;return!1}(e);l.className="profile-section";var m=u?"avatar-icon self_icon":"avatar-icon default_pic  ";l.innerHTML='<div class="'.concat(m,'"></div>\n        <div class="c-profile-details">\n            <span class="c-name">').concat(n,"\n            <span>").concat(u?"( You )":"",'</span>\n            <span class="c-date">').concat(r,"</span></span>\n        </div>\n        <div class=").concat(c?"pinned-comment-icon":"hide-pinned-icon",'>pinned</div>\n        <div class="c-edited" data-isanonymous = ').concat(a," data-type = ").concat(o?"edit":"edited"," data-editaccess = ").concat(o,">").concat(i?"Edited":"Edit","</div>"),o||0!=i||(l.querySelector(".c-edited").style.visibility="hidden");l.querySelector(".c-edited").addEventListener("click",R);var p=document.createElement("script");return p.type="application/ld+json",p.text=JSON.stringify({"@context":"https://schema.org","@type":"coment",dateCreated:s,creator:{"@type":"Person",name:n}}),l.appendChild(p),l}(p,0,o,i,c,s,v,h,y));var x=function(e,n){var r=document.createElement("div");r.className="comments-list";var o=document.createElement("div");return o.className="editor-box",r.appendChild(V(e,[])),r.appendChild(z()),r.appendChild(function(e){console.log("datadata",e);var n=ce(e),r=n.commentId,o=n.totalReplies,i=n.totalDisLikes,a=n.totalLikes,c=(n.emoticonData,n.activityData),s=n.flagsData,l=n.isReply,m=n.userData,p=n.adminApproved,f=n.sessionId,v=n.pinned,h=n.addedOn,y={commentId:r,upvoteCount:a,downvoteCount:i,replyCounts:o,emotionActivity:c,reportActivity:s,sessionId:f,isReply:l,userData:m,adminApproved:p,pinned:v,createdOn:h},b=document.createElement("div");return b.className="c-replybox",b.dataset.commentId=r,b.dataset.sessionId="reply-"+f,b.dataset.activityid=c.id,b.dataset.activitytype=c.activityType,b.appendChild(function(e){var n=e.commentId,r=e.isReply,o=e.userData,i=e.upvoteCount,a=e.downvoteCount,c=e.replyCounts,s=e.emotionActivity,l=e.adminApproved,m=e.sessionId,p=document.createElement("ul"),f=document.createElement("ul"),v=document.createElement("li");v.className="replies";var h=c>1?" Replies":" Reply";v.innerText=c+h,v.id="replyCommentCount"+n,v.dataset.count=c,v.dataset.sessionId="reply-count-"+m,v.addEventListener("click",ae);var y=document.createElement("li");y.className=11===Number(s.activityType)?"upvote active":"upvote",y.dataset.commentId=n,y.dataset.activitytype=s.activityType,y.id="up-".concat(n),y.innerText=i,y.addEventListener("click",ee);var b=document.createElement("li");b.className=12===Number(s.activityType)?"down-vote active":"down-vote",b.innerText=a,b.dataset.commentId=n,b.dataset.activitytype=s.activityType,b.id="down-".concat(n),b.addEventListener("click",te);document.querySelector("title").innerText;var g=document.createElement("li");g.className="share",g.innerText="Share",g.dataset.commentId=n,g.addEventListener("click",(function(e){e.target.classList.toggle("active-sharebox"),e.stopPropagation()})),document.querySelector("body").addEventListener("click",(function(){document.querySelectorAll(".share").forEach((function(e,t){e.classList.remove("active-sharebox")}))}));var x=document.createElement("li"),_=document.createElement("a");_.innerText="facebook",x.className="facebook",x.addEventListener("click",(function(){var e={commentId:n,channel:{id:1},shareTo:Object(d.g)("pluuid")||"",shareFrom:Object(d.g)("fpuuid")||""};Object(u.c)("".concat(t,"api/share/comment/log/"),e)})),_.setAttribute("href","https://www.facebook.com/sharer.php?u="+window.location.origin+window.location.pathname+"?commentId="+n+"?commentIdend"),_.setAttribute("target","_blank"),x.appendChild(_),f.appendChild(x);var w=document.createElement("li"),S=document.createElement("a");S.innerText="twitter",w.className="twitter",w.addEventListener("click",(function(){var e={commentId:n,channel:{id:2},shareTo:Object(d.g)("pluuid")||"",shareFrom:Object(d.g)("fpuuid")||""};Object(u.c)("".concat(t,"api/share/comment/log/"),e)})),S.setAttribute("href","https://twitter.com/intent/tweet?text="+window.location.origin+window.location.pathname+"?commentId="+n+"?commentIdend"),S.setAttribute("target","_blank"),w.appendChild(S),f.appendChild(w);var j=document.createElement("li"),O=document.createElement("a");O.innerText="whatsapp",j.className="whatsapp",j.addEventListener("click",(function(){var e={commentId:n,channel:{id:3},shareTo:Object(d.g)("pluuid")||"",shareFrom:Object(d.g)("fpuuid")||""};Object(u.c)("".concat(t,"api/share/comment/log/"),e)})),O.setAttribute("href","https://api.whatsapp.com//send?text="+window.location.origin+window.location.pathname+"?commentId="+n+"?commentIdend"),O.setAttribute("target","_blank"),j.appendChild(O),f.appendChild(j),g.appendChild(f);var T=document.createElement("li");T.className="flag flag-approved",T.innerText="flag",T.dataset.objectid=n,T.dataset.sessionId="flag-"+m,T.dataset.isreply=r,T.addEventListener("click",K),l&&(T.dataset.flag="approved");var E=document.createElement("li");return E.className="reply reply-btm-btn",E.innerText="Reply",E.dataset.commentId=n,E.dataset.sessionId="c-reply-"+m,E.dataset.userdata=JSON.stringify(o),E.addEventListener("click",Q),p.appendChild(v),p.appendChild(y),p.appendChild(b),p.appendChild(g),p.appendChild(T),p.appendChild(E),p}(y)),b}(n)),r.appendChild(o),r}(a,e);return x.dataset.isreply=l,g.appendChild(x),b.appendChild(g),b}}function R(){var e=this,n=this.classList.contains("active"),r=this.closest(".common_list"),o=r.querySelector(".comments-list");if(n){Object(d.m)(e,"active"),o.style.display="block";var i=r.querySelector(".comment-history");r.removeChild(i)}else{$();var a=this.closest(".comments-listbox"),c=a.dataset.id,s=this.closest(".child-comments");Object(d.b)(e,"active"),o.style.display="none";var l=document.createElement("div");if(l.className="comment-history","hidden"!==this.style.visibility){var u=document.createElement("ul");u.className="history-content";var m="".concat(t,"api/comment/").concat(c,"/edit-log/?includeUserData=true");s&&(m="".concat(t,"api/comment/reply/").concat(c,"/edit-log/?includeUserData=true")),function(e,t,n){F.apply(this,arguments)}(m,u,l)}if("true"===this.dataset.editaccess){var p=document.createElement("div");p.className="editor-box",l.appendChild(p),r.appendChild(l),X(p,a.querySelector(".c-summary").innerHTML);var f=p.querySelector(".c-editsummary"),v=p.querySelector(".btn-box .anonymous-check").querySelector("input[type='checkbox']");v.checked="true"===this.dataset.isanonymous,v.disabled=!0;var h=document.createElement("div");f.appendChild(h);var y=p.querySelector(".edit-comment");p.querySelector(".cancel-btn").addEventListener("click",(function(){e.click()})),y.addEventListener("click",Y)}else r.appendChild(l)}}function Y(){var e={},n=this.closest(".editor-box"),r=n.querySelector(".ce_error_msg");r.innerText="";var o=n.querySelector(".text-content .c-editsummary");o.childNodes.forEach((function(e){"IMG"===e.tagName&&e.remove()}));var i=o.textContent,a=n.querySelector(".text-content .attach-img");if(a){var c=a.querySelectorAll("img");e.images=[],c.length&&c.forEach((function(t){e.images.push(t.src)}))}var s=I(o);if(i){if(!q(i))return void(r.innerText="Content length must be between 5-2000 characters.");e.content=i,e.isAnonymous=n.querySelector("#id_anonymous").checked,e.tagged=s;var l,d=n.closest(".comments-listbox"),m=d.dataset.id,p=d.closest(".child-comments"),f="".concat(t,"api/comment/").concat(m,"/");if(p)l=p.closest(".comments-listbox").dataset.id,f="".concat(t,"api/comment/").concat(l,"/reply/").concat(m,"/");L(i).then((function(t){t.isBlocked?r.innerText="Your name/comment contains some profane words. Please re-phrase.":(e.content=t.parsedContent,Object(u.b)(f,e).then((function(e){var t=d.querySelector(".c-edited");t.innerText="Edited",t.click();var n=d.querySelector(".comments-list"),r=n.querySelector("div");n.removeChild(r);var o=V(e.content,e.images),i=d.querySelector(".read-full-comment");n.insertBefore(o,i),W(n)})))}))}else r.innerText="Please enter some text."}function U(e,t){var n=e.addedOn||Object(d.e)(new Date),r=n.split(" ")[0],o=n.split(" ")[1];n=j(r,0,0,o);var i=document.createElement("li");return i.innerHTML='\n                        <span class="comment-history-avatar"></span>\n                        <span class="name">'.concat(e.userData.fullName,'</span>\n                        <span class="comment-history-time">').concat(n,'</span>\n                        <span class="history-txt">').concat(e[t],"</span>          \n            "),i}function F(){return(F=a()(s.a.mark((function e(t,n,r){var o,i,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(t);case 2:(o=e.sent)&&((o.results||[]).map((function(e){i=e,n.append(U(e,"originalContent"))})),(a=r.querySelector(".editor-box"))?r.insertBefore(n,a):(i&&n.append(U(i,"updatedContent")),r.append(n)));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){var e=document.createElement("div");return e.className="view-more view-more-border",e.innerText="Load More",e.onclick=G,e}function G(){var e=this,t=this.closest(".child-comments"),n=this.dataset.nexturl;n&&(this.className="view-more",this.innerHTML=P("width:20px;height:20px;border-width:4px;"),Object(u.a)(n).then((function(n){var r=n.results||[],o=e.closest(".c-commenting_inner");t&&(o=t),r.map((function(n){var r=B(n);t&&function(e){if(e){var t=e.querySelector(".c-replybox .replies"),n=e.querySelector(".c-replybox .reply");n&&(n.style.display="none"),t&&(t.style.display="none")}}(r),r&&o.insertBefore(r,e)})),W(o);var i=n.next;i?(e.dataset.nexturl=i,e.className="view-more view-more-border",e.innerText="Load More"):e.style.display="none"})))}function V(e,t){var n=document.createElement("div");n.style.overflow="hidden",n.style.padding="5px 0",n.className="message-wrap";var r=document.createElement("p");if(Object(d.a)(e)>20){r.className="c-summary show-more-button";var o=e.split(" "),i=o.slice(0,19).join(" "),a=document.createElement("span");a.style.display="none",a.innerHTML=o.slice(19,o.length).join(" "),a.prepend(" "),r.innerHTML=i,n.appendChild(r),r.appendChild(a)}else r.className="c-summary",r.innerHTML=e,n.appendChild(r);return n}function z(){var e=document.createElement("a");return e.className="read-full-comment",e.innerText="Read Full Comment ",e.innerHTML='<span>Show More</span> <svg id="icon--dropdown" viewBox="0 0 8 5" width="100%" height="100%">\n            <path fill="#f93c42" d="M4 4.7L.1.9.9.1 4 3.3 7.1.1l.8.8z"></path>\n            </svg>\n        ',e}function W(e,t){e.querySelectorAll(".read-full-comment").forEach((function(e){e.closest(".comments-list").querySelector(".c-summary").classList.contains("show-more-button")?(e.style.display="inline-block",e.addEventListener("click",(function(t){t.stopPropagation(),t.stopImmediatePropagation();var n=this.closest(".comments-list");n.querySelector("div");e.classList.contains("active")?(e.querySelector("span").innerText="Show More",n.querySelector(".show-more-button").querySelector("span").style.display="none",e.classList.remove("active")):(e.classList.add("active"),e.querySelector("span").innerText="Show Less",n.querySelector(".show-more-button").querySelector("span").style.display="inline")}))):e.style.display="none"}))}function K(){var e=this,n=this.dataset.objectid,r={activityType:3,activitySubType:-1};r["true"===this.dataset.isreply?"replyId":"commentId"]=n;if(x)N();else{var o=Object(d.g)("pluuid");if(void 0===o){var i=Object(d.g)("oauth_user");if(void 0!==i){var a=JSON.parse(i);r.pluuid="pluuid_"+a.user_per_refsid}else o="pluuid_1"}else r.pluuid="pluuid_"+o;ue()?Object(u.c)("".concat(t,"api/activity/flag/"),r).then((function(){le("Thanks for reporting. Our team will look into this content. Meanwhile, we have removed the comment from your feed."),e.closest(".comments-listbox").style.display="none"})).catch((function(e){console.log(e),le("Something Went Wrong")})):T()}}function $(){var e=document.querySelector("#snackbar"),t=document.querySelectorAll(".reply-btm-btn"),n=document.querySelectorAll(".c-edited");e.classList.contains("editor_active"),t.forEach((function(e){e.classList.contains("editor_active")&&e.click()})),n.forEach((function(e){e.classList.contains("active")&&e.click()}))}function Q(){if(ue(),x)N();else{var e=this,t=this.closest(".comments-list").querySelector(".editor-box");if(e.classList.contains("editor_active"))t.innerHTML="",Object(d.m)(e,"editor_active"),document.getElementById("id_commenting").classList.remove("hide-topEditor");else{$(),Object(d.b)(e,"editor_active");O(e.dataset.userdata);X(t);var n=t.querySelector(".btn-box .edit-comment");n.innerText="REPLY",n.dataset.commentId=e.dataset.commentId,document.getElementById("id_commenting").classList.add("hide-topEditor"),n.addEventListener("click",Z),t.querySelector(".cancel-btn").addEventListener("click",(function(){e.click()}))}}}function X(e,t){try{centralServiceTextEditor.commentRichTextEditor().createTextEditor(e,t);var n=e?e.querySelector(".btn-box .edit-comment"):void 0;n&&(n.style.background=_)}catch(e){le("Sorry, something went wrong, you will not be abe to post comment for right now.")}}function Z(){var n=this,r=this,o=r.innerHTML,i=r.className,a={},c=r.closest(".editor-box"),s=c.querySelector(".ce_error_msg");s.innerText="";var l=c.querySelector(".text-content .c-editsummary");l.childNodes.forEach((function(e){"IMG"===e.tagName&&e.remove()}));var p=l.textContent,f=I(l),v=function(e){var t="";if(e){var n=(t=e.cloneNode(!0)).querySelector(".tagged_user");return n&&t.removeChild(n),t.innerHTML}return""}(l);if(v)if(q(v,2)){a.content=p,a.isAnonymous=c.querySelector("#id_anonymous").checked,a.tagged=f,a.vendorId=e,a.articleId=w,a.title=S,a.url=m,a.sessionId="sessionid-reply-".concat(document.querySelectorAll(".c-commenting_inner > .comments-listbox").length+1);var h=Object(d.g)("ev_user_state");a.isSubscribed=void 0!==h&&"subscriber"==h;var y=Object(d.g)("pluuid");if(void 0===y){var b=Object(d.g)("oauth_user");if(void 0!==b){var g=JSON.parse(b);a.pluuid=g.user_per_refsid}else y=-1}else a.pluuid=y;var x=Object(d.g)("oauth_user");if(void 0!==x){a.userInfo={};var _=JSON.parse(x),j="";if(_.user_first_name&&(j+=_.user_first_name),_.user_middle_name&&(j=j+" "+_.user_middle_name),_.user_last_name&&(j=j+" "+_.user_last_name),a.userInfo.username=j,void 0!==Object(d.j)("commentEngineUserData")&&a.userInfo.username.length<1){var O=JSON.parse(Object(d.j)("commentEngineUserData"));a.userInfo.username=O.firstName+" "+O.lastName}}if(p.match(/\d+/g)){var T=p.match(/\d+/g).join("");if(console.log("matched",T),T.length>=10)return s.innerText="mobile number is not allowed.",!1}var E=c.closest(".comments-listbox"),k=r.dataset.commentId,C=E.closest(".child-comments");C&&(E=C.closest(".comments-listbox"),k=r.dataset.commentId);var N="".concat(t,"api/comment/").concat(k,"/reply/?includeUserData=true");r.innerHTML=P("width:20px;height:20px;border-width:6px;"),r.className="",L(p).then((function(e){return e.isBlocked&&(a.isProfane=!0,s.innerText="Your message has been sent for moderation.",r.className=i,r.innerHTML=o),ue()?void 0===h||"subscriber"!=h?(le("Please Click <a href='/subscribe/'>here</a> to Subscribe"),r.className=i,r.innerHTML=o,window.location.href="/subscribe/",!1):(a.content=e.parsedContent,Object(u.c)(N,a).then((function(e){var t=E.querySelector(".child-comments");C&&(t=C),function(e){var t=document.getElementById("replyCommentCount"+e),n=parseInt(t.innerText.split()[0]),r=n+1>1?" Replies":" Reply";t.dataset.count=(n+1).toString(),t.innerText=n+1+r}(k);var r=B(e);if(!a.isProfane)if(t&&r){var o=t.querySelector(".comments-listbox");t.insertBefore(r,o)}else if(r){var i=document.createElement("div");i.className="child-comments",i.appendChild(r),E.appendChild(i)}Object(d.m)(n,"editor_active"),c.innerHTML="",W(E)})).catch((function(e){return le("Something went wrong, try again later.")})),r.className=i,void(r.innerHTML=o)):(r.className=i,r.innerHTML=o,void(window.location.href="/subscribe/"))}))}else s.innerText="Content length must be between 2-2000 characters.";else s.innerText="Please enter some text."}function ee(e){var t=Object(d.g)("fpuuid");if(x)N();else{var n=e.target,r=n.closest(".upvote"),o=n.closest(".c-replybox"),i=o.querySelector(".down-vote"),a=(o.dataset.commentId.toString(),o.dataset.activityid.toString());i.className="down-vote",Object(d.p)(r,"active");var c={activityType:1,activitySubType:11,fpuuid:t},s=o.dataset.activitytype||1;this.removeEventListener("click",ee),"undefined"!==a?re.call(this,c,a,s,1):ne.call(this,c,1)}}function te(e){var t=Object(d.g)("fpuuid");if(x)N();else{var n=e.target,r=n.closest(".down-vote"),o=n.closest(".c-replybox"),i=o.querySelector(".upvote"),a=(o.dataset.commentId.toString(),o.dataset.activityid.toString()),c={activityType:2,activitySubType:21,fpuuid:t};i.className="upvote",Object(d.p)(r,"active");var s=o.dataset.activitytype||21;this.removeEventListener("click",te),"undefined"!==a?re.call(this,c,a,s,2):ne.call(this,c,2)}}function ne(e,n){var r=this,o=this.closest(".child-comments"),i=this.closest(".c-replybox");e[o?"replyId":"commentId"]=this.closest(".comments-listbox").dataset.id;var a=Object(d.g)("pluuid");if(void 0===a){var c=Object(d.g)("oauth_user");if(void 0!==c){var s=JSON.parse(c);e.pluuid=s.user_per_refsid}else a=-1}else e.pluuid=a;e.userId=e.pluuid>-1?"pluuid_"+e.pluuid:"fpuuid_"+e.fpuuid,Object(u.c)("".concat(t,"api/activity/"),e).then((function(e){if(console.log("responseData",e),e.id){var t=i.querySelector(".upvote"),n=i.querySelector(".down-vote");i.dataset.activityid=e.id,i.dataset.activitytype=e.activityType,1===Number(e.activityType)?(oe(t),r.addEventListener("click",ee)):2===Number(e.activityType)&&(oe(n),r.addEventListener("click",te))}else le("Something went wrong. Please try again.")})).catch((function(e){1===n?r.addEventListener("click",ee):2===n&&r.addEventListener("click",te),console.log(e)}))}function re(e,n,r,o){var i=this;if(n){o=Number(o);var a=this.closest(".c-replybox"),c=a.querySelector(".upvote"),s=a.querySelector(".down-vote");r==e.activityType&&-1!=r&&(e.activityType=-1,e.activitySubType=-1),Object(u.b)("".concat(t,"api/activity/").concat(n,"/"),e).then((function(e){if(e.id){if(1===o){if(i.addEventListener("click",ee),a.dataset.activitytype=e.activityType,-1===Number(e.activitySubType))return ie(c),void Object(d.m)(c,"active");oe(c),ie(s)}else if(2===o){if(i.addEventListener("click",te),a.dataset.activitytype=e.activityType,-1===Number(e.activitySubType))return ie(s),void Object(d.m)(s,"active");ie(c),oe(s)}}else le("Something went wrong. Please try again.")})).catch((function(e){1===o?i.addEventListener("click",ee):2===o&&i.addEventListener("click",te),console.log("patch activity called",e)}))}else le("Please login to like/dislike")}function oe(e){var t=Number(e.innerText);e.innerText=++t}function ie(e){var t=Number(e.innerText);t=0===t?1:t,e.innerText=--t}function ae(){var e=this;if(Number(this.dataset.count)){var n=this.closest(".comments-listbox"),r=this.innerHTML,o=n.dataset.id,i=this.classList.contains("active"),a=n.querySelector(".child-comments");if(i||a)return Object(d.m)(this,"active"),void n.removeChild(a);this.innerHTML=P("width:20px;height:20px;border-width:4px;"),Object(u.a)("".concat(t,"api/comment/").concat(o,"/reply/?size=5&isActive=true&includeUserData=true")).then((function(t){var o=t.results||[],i=t.next,a=document.createElement("div");a.className="child-comments",o.map((function(e){var t=B(e);t&&a.appendChild(t)})),n.appendChild(a);var c=J();c.dataset.nexturl=i,i&&a.appendChild(c),W(n),e.innerHTML=r,Object(d.b)(e,"active")})).catch((function(){e.innerHTML=r}))}}function ce(e){if(e){var t=e.id||"",n=e.addedOn||Object(d.e)(new Date),r=n.split(" ")[0],o=n.split(" ")[1];n=j(r,0,0,o);var a=e.content||"unable to load comment. Try Again",c=e.totalReplies||0,s=e.totalUpvotes||0,l=e.totalDownvotes||0,u=e.isAnonymous,m=e.canEdit,p=e.userActivityData||{},f=p.activityType,v=e.userData||{},h=v.name||"User",y=e.totalEdits,b=e.totalFlags||0,g=e.userReportActivity;return{commentId:t,addedOn:n,content:a,totalReplies:c,totalLikes:s,totalDisLikes:l,canEdit:m,activityData:p,isActivityActive:f,userData:v,fullName:h,userImage:v.image||"".concat(i,"images/img_avatar.png"),totalEdits:y,flags:b,flagsData:g,emoticonData:e.emoticonData,images:e.images,isReply:"REPLY"==e.commentType,userId:v.centralUserId,isCommentActive:e.active,isAnonymous:u,adminApproved:e.adminApproved,sessionId:e.sessionId||"",pinned:e.isPinned,createdOn:e.addedOn}}return{}}function se(){var e=O(Object(d.j)("commentEngineVendor"));e=e.extrinsicOauthEndPoint;var t=Object(d.k)(e);t.request_uri=m,t.state=Object(d.g)("ssostate");var n=Object.keys(t).map((function(e){return e+"="+t[e]})).join("&");e.split("?")[0];Object(d.o)("ce-fromCE",!0),window.location.href="/login/"}function le(e){var t=document.getElementById("alert-toast");t.className="show",setTimeout((function(){t.className=t.className.replace("show","hide")}),1e4),t.innerHTML=e}function ue(){var e,t=Object(d.j)("commentEngineVendor");t&&(e=O(t).cookieVariableName);return null!=Object(d.g)("ieCommentingServicesToken")&&Object(d.g)(e)}function de(){return me.apply(this,arguments)}function me(){return(me=a()(s.a.mark((function n(){var r,o,i,a;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(u.a)("".concat(t,"api/vendor-config/?vendorId=").concat(e,"&includeVendorIdData=True"));case 2:return r=n.sent,(o=r.results)&&(i=o[0],a=i?i.vendorIdData:{},_=i.themeColor,Object(d.o)("commentEngineVendor",a)),n.abrupt("return",o);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function pe(){var e=document.querySelector("#id_commenting"),n=e.classList.contains("active");if(setTimeout((function(){document.querySelector(".c-commenting_inner").onscroll=function(){document.querySelector(".c-commenting_inner").scrollTop>10?document.querySelector("#id_commenting").classList.add("hide-top-box"):document.querySelector("#id_commenting").classList.remove("hide-top-box")},document.querySelector("#snackbar2").addEventListener("click",(function(){document.querySelector("#id_commenting").classList.remove("hide-top-box"),document.querySelector(".c-commenting_inner").scrollTo(0,0)}))}),100),n)Object(d.m)(e,"active");else{Object(d.b)(e,"active"),Object(d.m)(e,"editor_active_parent");var r=Object(d.j)("firstComments");if("undefined"!==r&&r){_e();var o=O(r).totalCount||0;e.innerHTML="",e.appendChild(E(o)),e.appendChild(D()),e.appendChild(A()),fe()}else Object(u.a)("".concat(t,"api/comment/?url=").concat(f,"&includeUserData=true&isActive=true")).then((function(t){Object(d.o)("firstComments",t);var n=t.totalCount||0;e.innerHTML="",e.appendChild(E(n)),e.appendChild(D()),e.appendChild(A()),fe(),_e()}))}document.querySelector("#snackbar").click(),document.getElementById("id_commenting").classList.remove("hide-topEditor"),document.querySelector("#subscribe-comment-btn")&&document.querySelector("#subscribe-comment-btn").addEventListener("click",(function(e){e.preventDefault();var t=document.querySelector("#header_add_Comment");"Share your thoughts..."===t.querySelector(".c-editsummary").innerText?t.querySelector(".ce_error_msg").innerText="Please enter some text":(t.querySelector(".ce_error_msg").innerText="",window.location.href="/subscribe")}))}function fe(){var e=Object(d.j)("firstComments");if(e&&"undefined"!==e){var t=O(e),n=t.results||[],r=document.querySelector(".c-commenting_inner");r.innerHTML="";var o=t.next;n.map((function(e){var t=B(e);t&&r.appendChild(t),W(r)}));var i=J();i.dataset.nexturl=o,o&&r.appendChild(i)}}function ve(e){var t=e.userBlackList||[];if(t.length){var n=t[0];n.activityType&&(x=n.activityType)}else x=0}function he(e){var t=(""+e).length>3?3:4,n=Math.floor((""+e).length/t),r=parseFloat((0!=n?e/Math.pow(1e3,n):e).toPrecision(2));return r%1!=0&&(r=r.toFixed(1)),r+["","K","M","B","T"][n]}function ye(){return(ye=a()(s.a.mark((function e(){var n,r,o,i,a,c,l,m,p,x,S,j,T,E,k,L,C;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.location.href,n=new URLSearchParams(window.location.search),r=n.has("commentId")?parseInt(n.get("commentId")):0,e.next=5,Object(u.a)("".concat(t,"api/article-black-list/?url=").concat(f));case 5:if(!((o=e.sent).totalCount>0&&o.result[0].active)){e.next=10;break}return document.querySelector(".ie-network-commenting").style.display="none",document.querySelectorAll(".ie-share__icons .comments").forEach((function(e){e.style.display="none"})),e.abrupt("return",!1);case 10:return i=window.location.href.includes("?commentId=")?"".concat(t,"api/comment/").concat(r,"/article/").concat(w,"/"):"".concat(t,"api/comment/?url=").concat(f,"&includeUserData=true&isActive=true"),e.next=13,de();case 13:return e.sent,e.next=16,Object(u.a)(i);case 16:(a=e.sent)&&(c=a.results.filter((function(e){return!0===e.isPinned})),l=a.results.filter((function(e){return!0!==e.isPinned})),c?(m=c.concat(l),a.results=m):m=a.results,Object(d.o)("firstComments",a),(a.results||[]).map((function(e){y.push(e.id)})),(p=document.getElementById("id_commenting")).style.display="block",x=a.totalCount||0,S=v,(j=h).style.display="inline-block",j.style.backgroundColor=_,j.innerText="Post Comment",S.style.display=x<1?"none":"inline-block",S.style.backgroundColor=_,g=x,S.innerHTML="Read Comments <sup>".concat(g,"</sup>"),b.innerText=g<1?"Be the first one to comment":"Comments ("+he(g)+")",b.style.display="none",x?(document.querySelector("#id_latest_comment_card").style.display="block",document.querySelector("#id_story_write_comments").style.display="none",b.nextElementSibling.style.display="none"):(b.closest(".row"),b.nextElementSibling.style.display="none"),ve(a),j.addEventListener("click",pe),S.addEventListener("click",pe),document.querySelector(".total-count-num")&&g>0&&document.querySelectorAll(".total-count-num").forEach((function(e){e.innerHTML="<sup>".concat(g,"</sup>")})),document.querySelector("#nuc-comment-btn")&&document.querySelectorAll("#nuc-comment-btn").forEach((function(e){e.style.visibility="visible",e.addEventListener("click",pe)})),Object(d.j)("ce-fromCE")&&(S.click(),(T=Object(d.j)("ce-postComment"))&&(p.querySelector("#snackbar").click(),E=p.querySelector("#header_add_Comment .editor"),k=p.querySelector("#header_add_Comment .btn-box .edit-comment"),L=E.querySelector(".c-editsummary"),(C=O(T))&&(L.innerHTML=C,(k=k||p.querySelector("#header_add_Comment .btn-box .edit-comment")).click(),Object(d.f)("ce-postComment"))),Object(d.f)("ce-fromCE"))),window.location.href.includes("?commentId=")&&setTimeout((function(){pe(),document.querySelector(".c-commenting_inner > .comments-listbox").classList.add("share-comment")}),1e3);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}"www.financialexpress.com"!=window.location.hostname&&(Object(d.d)(),function(){var e=new Date;try{Object(d.c)("".concat(r,"assets/css/neocomment.css?ver=").concat(e.getDate()).concat(e.getMonth()+1).concat(e.getFullYear()),"footer"),Object(d.c)("".concat(r,"editor/assets/css/ce-editor.css?ver=").concat(e.getDate()).concat(e.getMonth()+1).concat(e.getFullYear()),"footer")}catch(e){console.log("during injection of dependency file failed.")}}(),setTimeout((function(){!function(){ye.apply(this,arguments)}()}),500));var be=Object(d.g)("pluuid");if(void 0===be){var ge=Object(d.g)("oauth_user");if(void 0!==ge)be=JSON.parse(ge).user_per_refsid;else be=-1}var xe=[];function _e(){return we.apply(this,arguments)}function we(){return(we=a()(s.a.mark((function t(){var r,o,i,a,c,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=O(Object(d.j)("commentEngineVendor")),o=r.cookieVariableName,i=Object(d.j)("commentEngineUserData"),a=Object(d.g)("ieCommentingServicesToken"),!(c=Object(d.g)(o))||i&&a){t.next=11;break}return t.next=8,Object(u.a)("".concat(n,"api/vendor/").concat(e,"/oauth-user/?token=").concat(c));case 8:return(l=t.sent).token&&(Object(d.o)("commentEngineUserData",l),Object(d.n)("ieCommentingServicesToken",l.token,1)),t.abrupt("return",l);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}()},function(e,t,n){}]);
//# sourceMappingURL=neocomment.js.map