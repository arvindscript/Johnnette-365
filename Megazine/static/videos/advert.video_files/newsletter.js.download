!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){var r=n(10)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";t.a={newsletter:"https://subscription.indianexpress.com/",auth:"https://authentication.indianexpress.com/",links:"https://media-central.indianexpress.com/static/subscription/",images:"https://media-central.indianexpress.com/static/subscription/",js:"https://media-central.indianexpress.com/static/subscription/",vendorIdNewsletter:2}},function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,c,"next",e)}function c(e){n(a,i,o,s,c,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(6),i=n(7),o=n(8),a=n(9);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){n(16),e.exports=n(12)},function(e,t,n){var r=n(4);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(4);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(11).default;function i(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},o=Object.prototype,a=o.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},l=c.iterator||"@@iterator",u=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(t){p=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,o=Object.create(i.prototype),a=new I(r||[]);return s(o,"_invoke",{value:C(e,n,a)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var m="suspendedStart",v="executing",g="completed",b={};function y(){}function _(){}function w(){}var k={};p(k,l,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(M([])));S&&S!==o&&a.call(S,l)&&(k=S);var L=w.prototype=y.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,o,s,c){var l=h(e[i],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==r(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,c)}))}c(l.arg)}var i;s(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var i=m;return function(o,a){if(i===v)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=N(s,r);if(c){if(c===b)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?g:"suspendedYield",l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function N(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,N(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function q(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[l];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(a.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(r(e)+" is not iterable")}return _.prototype=w,s(L,"constructor",{value:w,configurable:!0}),s(w,"constructor",{value:_,configurable:!0}),_.displayName=p(w,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,d,"GeneratorFunction")),e.prototype=Object.create(L),e},n.awrap=function(e){return{__await:e}},E(T.prototype),p(T.prototype,u,(function(){return this})),n.AsyncIterator=T,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new T(f(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(L),p(L,d,"Generator"),p(L,l,(function(){return this})),p(L,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=M,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(q),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),q(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;q(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){},,,,function(e,t,n){"use strict";n.r(t);var r,i=n(3),o=n.n(i),a=n(2),s=n.n(a),c=n(0),l=n.n(c),u=n(1);try{r=window.self!==window.top}catch(e){r=!1}function d(e,t){window.sessionStorage.setItem(e,JSON.stringify(t))}function p(e){return window.sessionStorage.getItem(e)}function f(e){r&&(e=e+"-vendor"+nLvid);for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return""}function h(e,t,n){r&&(e=e+"-vendor"+nLvid);var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var o="expires="+i.toUTCString();document.cookie=e+"="+t+";"+o+";path=/;SameSite=None;Secure"}function m(e){e=e.toLowerCase().trim();var t=["awdrt","ttirv.net"];for(var n in t)if(-1!=e.search("@"+t[n]))return!1;return!!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)}function v(e,t){var n=f("ieCentralServicesToken"),r=n&&"undefined"!==n?{Authorization:"".concat(n?"Bearer "+n:""),"Content-Type":"application/json",Accept:"application/json"}:{"Content-Type":"application/json",Accept:"application/json"};return t=t||{},fetch(e,{headers:r,method:"POST",body:JSON.stringify(t)}).then((function(e){return 401===e.status&&h("ieCentralServicesToken","",1),e.json()})).catch((function(e){return console.log(e)}))}function g(e){var t=f("ieCentralServicesToken"),n=t&&"undefined"!==t?{Authorization:"".concat(t?"Bearer "+t:""),"Content-Type":"application/json",Accept:"application/json"}:{"Content-Type":"application/json",Accept:"application/json"};return fetch(e,{headers:n}).then((function(e){return 401===e.status&&h("ieCentralServicesToken","",1),e.json()})).catch((function(e){return console.log(e)}))}!function(){var e,t,n=u.a.newsletter,r=(u.a.auth,u.a.links),i=u.a.images,a=window.location.href.indexOf("newsletterVerified")>0,c=window.location.href.indexOf("redirectFromPopup")>0,b=window.location.href.indexOf("nLEmailLinkClick")>0,y=document.querySelector("#id_newsletter_subscription"),_=document.querySelector("#id_newsletter_subscription_popup"),w=document.querySelector("#id_newsletter_detail_page"),k=[];try{e=nLvid}catch(t){e=void 0}try{t=window.self!==window.top}catch(e){t=!1}1==t&&(a=origin.indexOf("newsletterVerified")>0);var x="",S=!1,L="",E="";function T(){return!(!window.location.href.match("/section/opinion/")||!document.querySelector("#id_newsletter_subscription")||2!=e)}function C(){var e,t=p("nLvendorConfigData");if(!t)return console.error("nLvendorConfigData is missing in session storage."),!1;var n=B(t);return"Financial Express"===(null==n||null===(e=n.results)||void 0===e||null===(e=e[0])||void 0===e||null===(e=e.vendorIdData)||void 0===e?void 0:e.name)}function N(n,r){("Newsletter Subscription Popup"!=n||5!=e&&6!=e)&&(window.ga&&ga.create?1==t?(console.log("in iframe/ga initiated"),ga("send","event",n,r,origin)):(console.log(" not in iframe/ga initiated"),ga("send","event",n,r,window.location.href)):console.log("ga not initiated"))}function D(){p("onceRedirected")&&t&&q(!0),I((function(e){if(!p("onceRedirected")||"false"===p("onceRedirected"))if(t){var n=y;n.innerHTML="",n.appendChild(se(!0)),he("thankyou_widget_newsletter_link")}else{var r=c?_:y,o=document.createElement("div");o.className="pop_up_box",o.innerHTML='\n                    <div class="pop_up_content">\n                        <img src="'.concat(i,'images/close_icon.svg" alt="close icon" class="close_icon">\n                    </div>\n                ');var a=o.querySelector(".pop_up_content"),s=o.querySelector(".close_icon");s&&s.addEventListener("click",(function(){V(!0,!0,c)})),a.appendChild(ee(!0,!1,c)),!0,r.innerHTML="",r.appendChild(o),he("thankyou_widget_newsletter_link")}}))}function q(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=y,r=_;a&&!e&&D(),(n||r)&&Y().then((function(){var i=p("newsLetterVendorsSectionData");if(n&&"true"===n.dataset.ispopup&&"true"!==n.dataset.bottom?S=!0:n&&"true"!==n.dataset.ispopup&&"true"===n.dataset.bottom&&!0,i){var o,s,c=B(i),l=n&&n.dataset.slug||"",u=r&&r.dataset.slug||"";r&&(s=O(c.results,u,!0),S=!0),n&&(o=O(c.results,l,!1)),(o||s)&&I((function(n){n?oe(n).then((function(){var e=A(),n=A(!0);e||K(),t&&!a&&K(),n||K(!0),!w||a||e||K()})):(K(),K(!0)),e&&a&&K()}))}})).catch((function(e){return console.log("something went wrong in vendorConfig ",e)})),b&&N("Newsletter Page Link","Verification Email Link Click")}function I(e){return M.apply(this,arguments)}function M(){return(M=s()(l.a.mark((function t(r){var i,o,s,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=r||function(){},i="",o=B(p("nLvendorConfigData")),s=o?o.results:[],c=s[0]?s[0].vendorIdData.id:null,f("ieCentralServicesToken")&&p("nLUserData")&&p("nLvendorConfigData")&&e==c){t.next=10;break}return t.next=8,g("".concat(n,"api/vendor-config/?vendorId=").concat(e,"&includeVendorIdData=true")).then((function(e){d("nLvendorConfigData",e);var t=e.results||[],n=t[0]?t[0].vendorIdData:{};d("nlThemeColor",t[0].themeColor);var r=n.cookieVariableName,i=r?f(r):"";if(i)return U(i)})).then((function(){i=f("nLEmail"),a&&!i&&(i=atob(ce("email",window.location.href))),r(i)}));case 8:t.next=13;break;case 10:i=f("nLEmail"),a&&!i&&(i=atob(ce("email",window.location.href))),r(i);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(e){var t=e?"_popup":"",n=B(p("userSubscribedNewsLetter")||""),r=B(p("slugToSectionNewsletter"+t)||"")||[],i=n.results,o=!1;return n&&r.length&&r.map((function(e){i.map((function(t){t.newsletterData.id===e.id&&(o=!0)}))})),o}function P(e){var t=p("nLvendorConfigData");if(t){var n=B(t).results||[];return(n[0]?n[0]:{})[e]||""}return""}function H(){var e=p("nLvendorConfigData");if(e){var t=B(e).results||[];(t[0]?t[0].vendorIdData:{}).cookieVariableName;return!1}return!1}function j(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.createElement("div");t.className="pop_up_box",t.innerHTML='\n                <div class="pop_up_content">\n                    <img src="'.concat(i,'images/close_icon.svg" alt="" class="close_icon" data-popupcontainer="').concat(e,'">\n                </div>\n            ');var n=t.querySelector(".pop_up_content"),r=t.querySelector(".close_icon");return r&&r.addEventListener("click",(function(t){t.preventDefault(),V(!0,!0,e)})),n&&n.appendChild(J(e)),t}function V(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];d("showNewsLetterSubscription",!1),h("showNlPopup",!1,1/24);var r=P("popupHideDuration")||15;n&&!a&&h("nLPopupSuppressed",!0,r),t&&h("isNlPopUpActive",!1,15);var i=n?_:y;i&&(i.innerHTML=""),e&&N("Newsletter Subscription Popup","Dismissed")}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];(e=e||[]).map((function(e){e.vendorSectionData.slug===t&&e.isPrimary&&r.push(e)})),r.length||e.map((function(e){"default"===e.vendorSectionData.slug&&e.isPrimary&&r.push(e)})),n?E=r.length?r[0].tagLine:"":L=r.length?r[0].tagLine:"";var i=n?"_popup":"";return d("slugToSectionNewsletter"+i,r),r.length>0}function B(e){try{return JSON.parse(e)}catch(t){return void console.log("Unable to parse json, ",e)}}function U(e){return R.apply(this,arguments)}function R(){return(R=s()(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=t||"",f("access_token")&&(n=f("oauth_user"))&&(r=B(n)?B(n):"",B(n)&&h("nLEmail",r.user_email,365));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return F.apply(this,arguments)}function F(){return(F=s()(l.a.mark((function t(){var r,i,o,a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=p("nLvendorConfigData"),i=B(r),o=i?i.results:[],a=!!o[0]&&o[0].forceFetch,!(s=p("newsLetterVendorsSectionData"))||a){t.next=7;break}return t.abrupt("return",s);case 7:return t.next=9,g("".concat(n,"api/newsletter/?isPrimary=true&includeVendorSectionData=true&vendorId=").concat(e,"&active=true")).then((function(e){d("newsLetterVendorsSectionData",e)}));case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function W(){var e=document.createElement("div");return e.className="newsletter_section",T()?e.appendChild(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=f("nLEmail")||"",n=p("nLvendorConfigData"),r=B(n),i=(r.results&&r.results[0].widgetLogo,document.createElement("div"));i.className="opinionNewsletter_form";return i.innerHTML='\n                     <div id="opinion-newsletter">\n            <div class="col-left">\n                <div class="email-icon-divider">\n                    <img src="https://media-central.indianexpress.com/static/subscription/images/opinion-newsletter-icon.png" height="61" width="61" alt="The Indian Express Daily Newsletter &amp; Alerts">\n                </div>\n                <div class="newsletter-descriptor">\n                    <span>Sign-up for </span>\n                    <div class="title">Daily Newsletter &amp; Alerts</div>\n                    <div class="sub-title">Stay updated with the daily latest reportage</div>\n                </div>\n            </div>\n            <div class="col-right">\n                <form>\n                    <fieldset>\n                        <span class="error_msg"></span>\n                        <input type="email" id="id_subscriber_email" placeholder="Enter Email" value="'.concat(t,'" required="">\n                        <input type="submit" id="id_subscribe_submit" value="Sign Up">\n                    </fieldset>\n                </form>\n                <p class="privacy-text">By registering, you agree to our <a href="https://indianexpress.com/terms-and-conditions/" target="_blank">T&amp;C</a> and <a href="https://indianexpress.com/privacy-policy/" target="_blank">Privacy Policy</a></p>\n            </div>\n        </div>\n        \n        '),setTimeout((function(){document.querySelector("#opinion-newsletter").querySelector("form").addEventListener("submit",(function(t){t.preventDefault(),X(e)}))}),1e3),i}()):e.appendChild(J()),e}function G(e,t){var n=document.createElement("div");n.className="related_newsletter";var r=z(e);n.appendChild(r);var i=re(e);n.appendChild(i),t.appendChild(n)}function J(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=p("nLvendorConfigData"),n=B(t),r=n.results?n.results[0].widgetLogo:"",i=document.createElement("div");i.className="newsletter_form";var o=e?E:L;return i.innerHTML='\n                     <img src="'.concat(r,'" alt="mail logo" height="50" width="50" />\n            <p class="form_title">').concat(o,"</p>\n\n        "),C()?G(e,i):i.appendChild(z(e)),i}function z(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=document.createElement("form"),r=f("nLEmail")||"",i=(P("landingURL"),"");e&&(i="_popup"),1==t&&(r=""),n.setAttribute("data-frompopupcontainer",e);var o=null,a="Enter Your Email",s="Subscribe";return"hi"==(o=(o=e?_?_.getAttribute("data-lang"):"":y?y.getAttribute("data-lang"):"")||"en")?(a=" ईमेल टाइप करें",s="सब्सक्राइब  करें",n.innerHTML='<div class="error_msg"></div>\n                <input name="email" type="email" id="id_subscriber_email'.concat(i,'" placeholder="').concat(a,'" value="').concat(r,'" />\n                <input id="id_subscribe_submit').concat(i,'" type="submit" value="').concat(s,'" style="background: ').concat(B(p("nlThemeColor")),'"/>\n                ')):"mr"==o?(a=" इमेल आयडी येथे भरा",s=" सबस्क्राइब करा",n.innerHTML='<div class="error_msg"></div>\n                <input name="email" type="email" id="id_subscriber_email'.concat(i,'" placeholder="').concat(a,'" value="').concat(r,'" />\n                <input id="id_subscribe_submit').concat(i,'" type="submit" value="').concat(s,'" style="background: ').concat(B(p("nlThemeColor")),'"/>\n                ')):"ml"==o?(a="താങ്കളുടെ ഇമെയില്‍ വിലാസം നല്‍കുക",s="സബ്സ്‌ക്രൈബ്",n.innerHTML='<div class="error_msg"></div>\n                <input name="email" type="email" id="id_subscriber_email'.concat(i,'" placeholder="').concat(a,'" value="').concat(r,'" />\n                <input id="id_subscribe_submit').concat(i,'" type="submit" value="').concat(s,'" style="background: ').concat(B(p("nlThemeColor")),'"/>\n                ')):n.innerHTML='<div class="error_msg"></div>\n                <input name="email" type="email" id="id_subscriber_email'.concat(i,'" placeholder="').concat(a,'" value="').concat(r,'" />\n                <input id="id_subscribe_submit').concat(i,'" type="submit" value="').concat(s,'" style="background: ').concat(B(p("nlThemeColor")),'"/>\n                '),n.addEventListener("submit",(function(t){t.preventDefault(),X(e)})),n}function $(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?"_popup":"",r=p("slugToSectionNewsletter"+n),i=B(r),o=[];return i.map((function(e){o.push(e.id)})),o}function K(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=P("popupShowTimeout")||1e4,n=S?t:0,r=y,i=_;setTimeout((function(){null==i||f("nLPopupSuppressed")||!e||a||(i.appendChild(j(!0)),!0),he("email_form_newsletter_link")}),n),y&&!e&&(r.innerHTML="",r.appendChild(W()),!0)}function Q(e,t){var n=e.querySelector(".related_newsletter"),r=n?n.querySelector(".tag_box"):null,i=r?r.querySelectorAll(".active-tag"):[],a=Array.from(i).map((function(e){return parseInt(e.dataset.id,10)})),s=t.map((function(e){return parseInt(e,10)}));return o()(new Set([].concat(o()(s),o()(a))))}function X(r){var o=r?"_popup":"",a=document.getElementById("id_newsletter_subscription"+o);console.log("subscribeCurrentNewsLetter elementIdSuffix",o);a.querySelector(".pop_up_box");var s=a?a.dataset.slug:"",c=a.querySelector("#id_subscriber_email"+o).value,l=r?$(s,!0).slice():$(s).slice(),u=a.querySelector(".error_msg");if(m(c)){if(u.innerText="",l.length&&c){var d=window.location.href.replace("#amp=1","");1==t&&(d=origin),d.indexOf("?")>0?d+="&newsletterVerified=true":d+="?newsletterVerified=true",r&&(d+="&redirectFromPopup="+r);var p=f("nLSourceCookie");p&&"undefined"!=p||(p=null);var g={email:c,newsletterIds:C()?Q(a,l):l.slice(),vendorId:e,sourceURL:d,sourceAttribution:p};v("".concat(n,"api/subscription/"),g).then((function(e){var n=e.length?e[0]:{isVerified:!0},o=!e.length;if(r){N("Newsletter Subscription Popup","Email Submit");var s=a.querySelector(".pop_up_content");s.innerHTML='<img src="'.concat(i,'images/close_icon.svg" alt="close icon" class="close_icon">'),s.appendChild(ee(n.isVerified,o,r)),!0,a.querySelector(".pop_up_content .close_icon").addEventListener("click",(function(e){V(!0,!1,!0)}))}else N("Newsletter Subscription Widget","Email Submit"),a.innerHTML="",a.appendChild(se(n.isVerified,o)),he("thankyou_widget_newsletter_link");return 1==t&&(a.innerHTML="",a.appendChild(se(n.isVerified,o)),he("thankyou_widget_newsletter_link")),x=c,h("nLEmail",c,365),oe(c)}))}}else u.innerText="Please enter a valid email address."}function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=P("landingURL"),o=null;return"hi"==(o=(o=n?_?_.getAttribute("data-lang"):"":y?y.getAttribute("data-lang"):"")||"en")?' <img src="'.concat(i,'images/plane_icon.svg" alt="success icon">\n            <p class="nl_thanks_heading">').concat(a?"धन्‍यवाद! आपने सफलतापूर्वक सब्सक्राइब  कर लिया है।":t?"आप पहले से ही इस न्यूजलेटर को सब्सक्राइब कर चुके हैं।":"सब्सक्राइब करने के लिए धन्‍यवाद!",'</p>\n            <p class="nl_subheading">').concat(e?"":"हमने आपको वेरिफिकेशन ईमेल भेजा है। कृपया इनबॉक्‍स देखें। ",'</p>\n            <p style="display:none;" class="newsletter_link_msg" id="thankyou_widget_newsletter_link">\n            To see our other newsletters that may interest you, click \n            <a id="thankyou_widget_newsletter_link_anchor" data-href="').concat(r,'">here</a></p>\n              '):"mr"==o?' <img src="'.concat(i,'images/plane_icon.svg" alt="success icon">\n            <p class="nl_thanks_heading">').concat(a?"धन्यवाद, तुम्ही लोकसत्ताचे दैनंदिन न्यूजलेटर यशस्वीरित्या सबस्क्राइब केले आहे!":t?"तुम्ही या न्यूजलेटरसाठी अगोदरच सबस्क्राइब केलेलं आहे!":"सबस्क्राइब करण्यासाठी धन्यवाद!",'</p>\n            <p class="nl_subheading">').concat(e?"":"व्हेरिफिकेशनसाठी इमेल पाठवला आहे, कृपया इनबॉक्स चेक करा!",'</p>\n            <p style="display:none;" class="newsletter_link_msg" id="thankyou_widget_newsletter_link">\n            To see our other newsletters that may interest you, click \n            <a id="thankyou_widget_newsletter_link_anchor" data-href="').concat(r,'">here</a></p>\n              '):"ml"==o?' <img src="'.concat(i,'images/plane_icon.svg" alt="success icon">\n                    <p class="nl_thanks_heading">').concat(a?"താങ്കളുടെ ഇമെയില്‍ വിലാസം സ്ഥിരീകരിച്ചു. സബ്സ്‌ക്രൈബ് ചെയ്തതിനു നന്ദി.":t?"ഈ ന്യൂസ് ലെറ്റര്‍ താങ്കള്‍ സബ്സ്‌ക്രൈബ് ചെയ്ത് കഴിഞ്ഞു":"ഐഇ മലയാളം ന്യൂസ്ലെറ്റര്‍ സബ്‌സ്‌ക്രൈബ് ചെയ്തതിന് നന്ദി.",'</p>\n                    <p class="nl_subheading">').concat(e?"":"താങ്കള്‍ക്ക് ഒരു സ്ഥിരീകരണ ഇമെയില്‍ അയച്ചിട്ടുണ്ട്. ദയവായി ഇന്‍ബോക്‌സ് പരിശോധിക്കുക.",'</p>\n                    <p style="display:none;" class="newsletter_link_msg" id="thankyou_widget_newsletter_link">\n                    To see our other newsletters that may interest you, click \n                    <a id="thankyou_widget_newsletter_link_anchor" data-href="').concat(r,'">here</a></p>\n            '):' <img src="'.concat(i,'images/plane_icon.svg" alt="success icon">\n                    <p class="nl_thanks_heading">').concat(a?"Your email has been successfully verified. Thanks for subscribing.":t?"You are already subscribed to this newsletter.":"Thank you for subscribing.",'</p>\n                    <p class="nl_subheading">').concat(e?"":"We have sent you a verification email, please check your inbox.",'</p>\n                    <p style="display:none;" class="newsletter_link_msg" id="thankyou_widget_newsletter_link">\n                    To see our other newsletters that may interest you, click \n                    <a id="thankyou_widget_newsletter_link_anchor" data-href="').concat(r,'">here</a></p>\n            ')}function ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=document.createElement("div");return r.className="verification_box",r.innerHTML=Z(e,t,n),a?(d("onceRedirected",!0),setTimeout(N,2e3,"Newsletter Subscription Popup","Email Verified")):C()?console.log("Verification done"):r.appendChild(re(n)),r}function te(){N("Newsletter Subscription Popup","Tags Submit");var r=this.closest(".related_newsletter").querySelector(".tag_box").querySelectorAll(".active-tag"),i=[];r.forEach((function(e){i.push(e.dataset.id)}));window.location.href.search("\\?");var o=f("nLSourceCookie");o&&"undefined"!=o||(o=null);var a={vendorId:e,topicIds:i,email:x,sourceURL:t?origin:window.location.href+"?newsletterVerified=true",sourceAttribution:o};i.length&&v("".concat(n,"api/topic-interest/?vendorId=").concat(e),a).then((function(e){e.length&&V(!1,!1,!0)}))}function ne(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;g(e).then((function(e){if(e.results||e.length>0){var o=(e.results||e).filter((function(e){return"Investing Abroad"!==e.name}));o.length&&(n.style.display="block"),o.sort((function(e,t){return e.position-t.position})),console.log("Vendor Topic Positions in ascending order"),o.forEach((function(e){var n=document.createElement("li");n.innerHTML=i&&"Financial Express"!==i?'<img src="'.concat(e.image,'" data-light="').concat(e.imageLight,'" alt="icon"/> ').concat(e.name):'<img style="display:none;" src="'.concat(e.image,'" data-light="').concat(e.imageLight,'" alt="icon"/> ').concat(e.name),n.addEventListener("click",(function(){ie(this,t,r)})),n.dataset.id=e.id,t.appendChild(n)}))}}))}function re(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=document.createElement("div");r.className="related_newsletter";var i=null;"en"==(i=(i=t?_?_.getAttribute("data-lang"):"":y?y.getAttribute("data-lang"):"")||"en")&&(r.innerHTML='<p class="nl_topic_heading">Which other newsletters do you wish to subscribe to?</p>'),"hi"==i&&(r.innerHTML='<p class="nl_topic_heading">आप इनमें से और कोई न्‍यूजलेटर सब्सक्राइब करना चाहेंगे?</p>');var o=document.createElement("ul");if(o.className="tag_box",r.style.display="none",C()){var a="_popup",s=p("slugToSectionNewsletter"+a),c=B(s),l=Array.isArray(c)?c.map((function(e){return e.id})):[],u=parseInt(l[0],10);ne("".concat(n,"api/newsletterVendorSection/").concat(u,"/"),o,r)}else{var d=document.createElement("button"),f=_.dataset.slug;d.className="btn_done",d.addEventListener("click",te),d.innerText="en"===i?"Done":"सब्मिट";var h=p("nLvendorConfigData"),m=B(h),v=m.results[0].vendorIdData.name;ne("".concat(n,"api/vendor-topic/?vendorId=").concat(e,"&active=true&exSlug=").concat(f),o,r,d,v),r.appendChild(d)}return r.appendChild(o),r}function ie(e,t,n){e.classList.contains("active-tag")?(e.classList.remove("active-tag"),e.style.backgroundColor=""):(e.classList.add("active-tag"),e.style.backgroundColor=B(p("nlThemeColor")));var r=e.querySelector("img");if(r){var i=r.src;r.src=r.dataset.light||i,r.dataset.light=i}n&&(n.style.backgroundColor=t.querySelector(".active-tag")?B(p("nlThemeColor")):"#dadada")}function oe(e){return ae.apply(this,arguments)}function ae(){return(ae=s()(l.a.mark((function t(r){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g("".concat(n,"api/subscription/?email=").concat(r,"&vendorId=").concat(e,"&includeNewsletterData=true&isVerified=true")).then((function(e){d("userSubscribedNewsLetter",e)})).catch((function(e){return console.log(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function se(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=document.createElement("div");return i.className="thanks_subscribing",1==t&&i.classList.add("thanks_subscribing","thanks_subscribing_iframe"),T()?(i.className="",i.innerHTML=window.screen.width<767?'<div id="opinion-newsletter">\n            <div class="col-left">\n                <div class="email-icon-divider">\n                    <img src="https://media-central.indianexpress.com/static/subscription/images/opinion-newsletter-icon.png" height="61" width="61" alt="The Indian Express Daily Newsletter &amp; Alerts">\n                </div>\n                <div class="newsletter-descriptor">\n                    <div class="title">Thank you for subscribing.</div>\n                    <div class="sub-title">Stay updated with the daily latest reportage</div>\n                </div>\n            </div>\n            <div class="col-right">\n                <p class="verification-text-mobile">We have sent you a verification email, please check your inbox. <span>To see our other newsletters that may interest you, <a href="/newsletters/" target="_blank">click here</a>                </span></p>\n            </div>\n        </div>':'<div id="opinion-newsletter">\n            <div class="col-left thank-you-wrapper">\n                <div class="email-icon-divider">\n                    <img src="https://media-central.indianexpress.com/static/subscription/images/opinion-newsletter-icon.png" height="61" width="61" alt="The Indian Express Daily Newsletter &amp; Alerts">\n                </div>\n                <div class="newsletter-descriptor">\n                    <div class="title">Thank you for subscribing.</div>\n                    <div class="sub-title">We have sent you a verification email, please check your inbox. <span>To see our other newsletters that may interest you, <a href="/newsletters/" target="_blank">click here</a>.</span></div>\n                </div>\n            </div>\n        </div>'):i.innerHTML=Z(e,n,r),a&&(d("onceRedirected",!0),setTimeout(N,2e3,"Newsletter Subscription Widget","Email Verified")),i}function ce(e,t){t||(t=location.href),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null==n?null:n[1]}function le(t){g("".concat(n,"api/newsletter/?active=true&includeVendorSectionData=true&vendorId=").concat(e,"&email=").concat(t)).then((function(e){d("newsLetterVendorsSectionData",e);var t=e,n=document.querySelector("#id_newsletter_subscription_page");if(e&&n){var r,i=B(p("nLvendorConfigData")).results||[];r=i[0].pageHeading?i[0].pageHeading:"Subscribe and stay updated with the latest reportage, insightful commentary and in-depth analyses, delivered to your inbox",n.innerHTML='\n                                                    <div class="newsletter_content_box">\n                                                        <p class="top_heading">'.concat(r,"</p>\n                                                    </div>\n                                             ");var o=n.querySelector(".newsletter_content_box");a&&o.appendChild(ue()),o.appendChild(function(){var e=f("nLEmail")||"",t=document.createElement("div");return t.className="newsletter_block",t.innerHTML='\n                                <div class="select_allcheck">\n                                    <label class="label_container">\n                                        <input type="checkbox" id="select-all-cbox"> \n                                        <span class="checkmark_box"></span>\n                                        Select All\n                                    </label>\n                                </div>\n                                <div class="rt_form">\n                                    <form>\n                                         <div class="error_msg"></div>\n                                        <input name="email" type="email" placeholder="Enter Your Email" value="'.concat(e,'" id="page-email-inp">\n                                     \n                                        <input type="submit" value="Subscribe" style="background-color: ').concat(B(p("nlThemeColor")),'">\n                                        \n                                    </form>\n                                </div>\n            '),t.querySelector(".select_allcheck").addEventListener("click",pe),t.querySelector("form").addEventListener("submit",fe),t}()),o.appendChild(function(e){var t=document.createElement("ul");return t.className="newslatter_addon_box",e.filter((function(e){return e.showInList})).map((function(e){var n=document.createElement("li");n.dataset.id=e.id,n.dataset.name=e.name;var r="";e.label&&(r='<span class="newsletter-ribbon">'.concat(e.label,"</span>")),n.innerHTML="\n                                    ".concat(r,'\n                                    <label class="label_container">\n                                        <input type="checkbox" name="newsletter_checkbox" />\n                                         <span class="checkmark_box"></span>\n                                         Select All\n                                    </label>\n                                    <p class="nl_item_name">').concat(e.name,"</p>\n                                    <p>").concat(e.desc,"</p>\n                                 "),n.className=e.isSubscribed?"active_addon_box":"",n.querySelector('input[type="checkbox"]').checked=e.isSubscribed,n.querySelector('input[type="checkbox"]').disabled=e.isSubscribed,t.appendChild(n),n.querySelector(".label_container").addEventListener("click",de)})),t}(t.results))}}))}function ue(e){var n=document.getElementById("thanks_subscribing");n&&n.remove();var r=document.createElement("div");r.className="thanks_subscribing",1==t&&r.classList.add("thanks_subscribing","thanks_subscribing_iframe"),r.id="thanks_subscribing";var o="We have sent you a verification email, please check your inbox.",s=document.getElementById("page-email-inp")?document.getElementById("page-email-inp").value:"";if(a&&!e&&(o=""),H()){var c=p("nLUserData")?B(p("nLUserData")).email:"";c&&c==s&&(o="")}if(r.innerHTML='\n              <img src="'.concat(i,'images/success.svg" alt="success icon">\n                                            <p class="nl_thanks_heading">').concat(!a||e?"Thank you for subscribing.":"Your email has been successfully verified. Thanks for subscribing.",'</p>\n                                            <p id="mail-sent-text">').concat(o,"</p>\n                "),!a||e?console.log("Thank you for subscribing."):console.log("Your email has been successfully verified. Thanks for subscribing."),a){for(var l=B(p("newsLetterVendorsSectionData")),u=0;u<l.results.length;u++)!0===l.results[u].isSubscribed&&k.push(l.results[u].name);window.ga&&ga.create&&ga("send","event","Newsletter Subscription Page","Email Verified",k.join("/"))}return r}function de(){var e=this.closest("li");e.querySelector('input[type="checkbox"]').checked?e.classList.add("active_addon_box"):e.classList.remove("active_addon_box")}function pe(){var e=this.closest(".select_allcheck"),t=document.getElementById("select-all-cbox"),n=e.closest(".newsletter_content_box").querySelector(".newslatter_addon_box");t.checked=1!=t.checked,t.checked?e.classList.add("active_addon_box"):e.classList.remove("active_addon_box"),n.querySelectorAll(".label_container").forEach((function(e){e.querySelectorAll("input").forEach((function(e){e.disabled||(e.checked=!t.checked,e.click())}))}))}function fe(r){r.preventDefault();var i,o,a=this.querySelector('input[type="email"]').value,s=document.querySelector(".newsletter_content_box"),c=(i=document.querySelector(".newsletter_content_box").querySelector(".newslatter_addon_box"),o=[],k=[],i.querySelectorAll("li.active_addon_box").forEach((function(e){o.push(e.dataset.id),k.push(e.dataset.name)})),o).slice(),l=this.querySelector(".error_msg");if(m(a))if(c.length){if(l.innerText="",a&&c.length){var u=-1==window.location.href.search("\\?")?"?":"&",d=f("nLSourceCookie");d&&"undefined"!=d||(d=null);var p={email:a,newsletterIds:c,vendorId:e,sourceURL:t?origin:window.location.href+u+"newsletterVerified=true&email="+btoa(a),sourceAttribution:d};v("".concat(n,"api/subscription/"),p).then((function(e){var t=s.querySelector(".newsletter_block");if(e.length&&!e[0].isVerified)s.insertBefore(ue(!0),t);else{var n=ue();n.querySelector("p").innerHTML="",e.length||(n.querySelector(".nl_thanks_heading").innerHTML="You are already subscribed to selected newsletters.",n.querySelector("#mail-sent-text").innerHTML=""),s.insertBefore(n,t)}document.getElementById("thanks_subscribing").scrollIntoView()}))}window.ga&&ga.create&&ga("send","event","Newsletter Subscription Page","Email Submit",k.join("/"))}else l.innerText="Please select atleast 1 newsletter.";else l.innerText="Please enter a valid email address."}function he(e){if(P("landingURLActive")){var t={email_form_newsletter_link:["Newsletter Page Link","Email Form Click"],thankyou_widget_newsletter_link:["Newsletter Page Link","Thank You Widget Click"]},n=document.getElementById(e);if(n)document.getElementById(e+"_anchor").addEventListener("click",(function(n){var r,i,o;n.preventDefault(),r=this.getAttribute("data-href"),i=t[e][0],o=t[e][1],N(i,o),window.open(r,"_blank")}),!1),n.style.display="block";else console.log("Unable to find id, ",e)}}function me(t){g("".concat(n,"api/newsletter/?active=true&includeVendorSectionData=true&vendorId=").concat(e,"&email=").concat(t)).then((function(e){d("newsLetterVendorsSectionData",e);var t=e,n=w,r=w.dataset.slug?w.dataset.slug:"default";if(function(e,t){var n=[];return(e=e||[]).map((function(e){e.vendorSectionData.slug===t&&e.isPrimary&&n.push(e)})),n.length>0}(t.results,r)&&e&&n){var i=B(p("nLvendorConfigData")).results||[],o=function(e){var t=null,n=w.dataset.slug;return e.map((function(e){e.vendorSectionData.slug===n&&e.isPrimary&&(t=e.pageHeading)})),t||"Subscribe and stay updated with the latest reportage, insightful commentary and in-depth analyses, delivered to your inbox"}(t.results),s=i[0].themeColor?i[0].themeColor:"#c51918";n.innerHTML='\n                                                    <div id="ndp-parent">\n                                                    <div id="ndp-top-parent" class="ndp_top_sec" style=" background: '.concat(s,'"> \n                                                        <p class="ndp_tag_line">').concat(o,'</p>\n                                                        </div>\n                                                        <div id="ndp-bottom-parent" class=""ndp_bottom_sec">\n                                                        </div>\n                                                    </div>\n                                             ');var c=n.querySelector("#ndp-top-parent"),l=n.querySelector("#ndp-bottom-parent");a&&c.appendChild(ge()),c.appendChild(function(){var e=f("nLEmail")||"",t=document.createElement("div");return t.id="ndp-form-parent",t.innerHTML='   \n                                <div  class="ndp_form">\n                                    <form>\n                                        <input name="email" type="email" placeholder="Enter Your Email" value="'.concat(e,'" id="page-email-inp">\n                                        <input type="submit" value="Subscribe" style="background-color:#000">\n                                        <div id="ndp-error-msg" class="ndp_error_msg"></div>\n                                        \n                                    </form>\n                                </div>\n            '),t.querySelector("form").addEventListener("submit",ve),t}()),c.appendChild(function(e){e=e||[];var t=document.createElement("div");t.className="ndp_content";var n=w.dataset.slug,r=null;return e.map((function(e){e.vendorSectionData.slug===n&&e.isPrimary&&(r=e.longDesc)})),t.innerText=r||"",t}(t.results)),l.appendChild(function(){var e=document.createElement("p");e.setAttribute("class","other_newsletter_boxes_heading");var t,n=B(p("nLvendorConfigData"));return t=n.results[0].vendorIdData.name,e.innerText="Other Newsletters by "+t,e}()),l.appendChild(function(e){var t=document.createElement("ul");return t.className="newslatter_addon_box",e.filter((function(e){return e.showInList})).map((function(e){var n=document.createElement("li");n.dataset.id=e.id,n.dataset.name=e.name;var r="";e.label&&(r='<span class="newsletter-ribbon">'.concat(e.label,"</span>")),n.innerHTML="\n                                    ".concat(r,'\n                                    <label class="label_container">\n                                        <input type="checkbox" name="newsletter_checkbox" />\n                                         <span class="checkmark_box"></span>\n                                         Select All\n                                    </label>\n                                    <p class="nl_item_name">').concat(e.name,"</p>\n                                    <p>").concat(e.desc,"</p>\n                                 "),n.className=e.isSubscribed?"active_addon_box":"",n.querySelector('input[type="checkbox"]').checked=e.isSubscribed,n.querySelector('input[type="checkbox"]').disabled=e.isSubscribed,t.appendChild(n),n.querySelector(".label_container").addEventListener("click",de),e.vendorSectionData.slug==w.dataset.slug&&t.removeChild(n)})),t}(t.results))}}))}function ve(r){r.preventDefault();var i,o,a=this.querySelector('input[type="email"]').value,s=document.querySelector("#ndp-top-parent"),c=(i=document.querySelector("#ndp-bottom-parent").querySelector(".newslatter_addon_box"),o=[],k=[],i.querySelectorAll("li.active_addon_box").forEach((function(e){o.push(e.dataset.id),k.push(e.dataset.name)})),o).slice(),l=!1,u=null,d=null,h=p("newsLetterVendorsSectionData");(h=B(h)).results.map((function(e){e.vendorSectionData.slug==w.dataset.slug&&(u=e.id,d=e.name)}));for(var g=0;g<c.length;g++)if(console.log("selected newsletter "+c[g]),null!=u&&c[g]==u){l=!0;break}l||(console.log("current page newsletter "+u),c.push(u),k.push(d));var b=this.querySelector("#ndp-error-msg");if(m(a))if(c.length){if(b.innerText="",a&&c.length){var y=-1==window.location.href.search("\\?")?"?":"&",_=f("nLSourceCookie");_&&"undefined"!=_||(_=null);var x={email:a,newsletterIds:c,vendorId:e,sourceURL:t?origin:window.location.href+y+"newsletterVerified=true&email="+btoa(a),sourceAttribution:_};v("".concat(n,"api/subscription/"),x).then((function(e){var t=s.querySelector("#ndp-form-parent");if(e.length&&!e[0].isVerified)s.insertBefore(ge(!0),t);else{var n=ge();e.length||(1==c.length&&c[0]==u?n.querySelector(".nl_thanks_heading").innerHTML="You are already subscribed to ".concat(d," newsletter."):n.querySelector(".nl_thanks_heading").innerHTML="You are already subscribed to selected newsletters.",n.querySelector("#mail-sent-text").innerHTML=""),s.insertBefore(n,t)}document.getElementById("ndp-top-parent").scrollIntoView()}))}window.ga&&ga.create}else b.innerText="Please select atleast 1 newsletter.";else b.innerText="Please enter a valid email address."}function ge(e){var t=document.getElementById("ndp-thanks-subscribing");t&&t.remove();var n=document.createElement("div");n.className="ndp_thanks_subscribing",n.id="ndp-thanks-subscribing";var r="We have sent you a verification email, please check your inbox.",o=document.getElementById("page-email-inp")?document.getElementById("page-email-inp").value:"";if(a&&!e&&(r=""),H()){var s=p("nLUserData")?B(p("nLUserData")).email:"";s&&s==o&&(r="")}if(n.innerHTML='\n              <img src="'.concat(i,'images/verified-reverse.svg" class="ndp_success_icon" alt="success icon">\n                                            <p class="nl_thanks_heading">').concat(!a||e?"Thank you for subscribing.":"Your email has been successfully verified. Thanks for subscribing.",'</p>\n                                            <p id="mail-sent-text">').concat(r,"</p>\n                "),!a||e?console.log("Thank you for subscribing."):console.log("Your email has been successfully verified. Thanks for subscribing."),a){for(var c=B(p("newsLetterVendorsSectionData")),l=0;l<c.results.length;l++)!0===c.results[l].isSubscribed&&k.push(c.results[l].name);window.ga&&ga.create&&ga("send","event","Newsletter Subscription Page","Email Verified",k.join("/"))}return n}function be(){return(be=s()(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(me);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){var e=f("nLSourceCookie");if(!e||"undefined"==e){var t,n,r=(t=window.location.href,n={},-1==t.search("\\?")||t.split("?")[1].split("&").forEach((function(e){n[e.split("=")[0]]=e.split("=")[1]})),n).utm_source;r&&"undefined"!=r&&h("nLSourceCookie",r,1/48)}}(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),function(e,t){var n=document.head,r=document.body.getElementsByTagName("footer")[0],i=document.createElement("link");i.rel="stylesheet",i.href=e,"footer"===t?r.appendChild(i):n.appendChild(i)}("".concat(r,"css/newsletter.css")),w?function(){be.apply(this,arguments)}():y||_?q():I(le)}()}]);
//# sourceMappingURL=newsletter.js.map